module.exports=function(a){a.initConfig({pkg:a.file.readJSON("package.json"),env:{sauceLabs:(a.file.exists(".sauce-labs.creds")?a.file.readJSON(".sauce-labs.creds"):{})},karma:{options:{frameworks:["qunit"],files:["min/moment-with-locales.js","min/tests.js"],sauceLabs:{startConnect:true,testName:"MomentJS"},customLaunchers:{slChromeWinXp:{base:"SauceLabs",browserName:"chrome",platform:"Windows XP"},slIe9Win7:{base:"SauceLabs",browserName:"internet explorer",platform:"Windows 7",version:"9"},slIe8Win7:{base:"SauceLabs",browserName:"internet explorer",platform:"Windows 7",version:"8"},slFfLinux:{base:"SauceLabs",browserName:"firefox",platform:"Linux"},slSafariOsx:{base:"SauceLabs",browserName:"safari",platform:"OS X 10.8"}}},server:{browsers:[]},chrome:{singleRun:true,browsers:["Chrome"]},firefox:{singleRun:true,browsers:["Firefox"]},sauce:{options:{reporters:["dots"]},singleRun:true,browsers:["slChromeWinXp","slIe9Win7","slIe8Win7","slFfLinux","slSafariOsx"]}},uglify:{main:{files:{"min/moment-with-locales.min.js":"min/moment-with-locales.js","min/locales.min.js":"min/locales.js","min/moment.min.js":"moment.js"}},options:{mangle:true,compress:{dead_code:false},output:{ascii_only:true},report:"min",preserveComments:"some"}},jshint:{all:["Gruntfile.js","tasks/**.js","src/**/*.js"],options:{jshintrc:true}},jscs:{all:["Gruntfile.js","tasks/**.js","src/**/*.js"],options:{config:".jscs.json"}},watch:{test:{files:["src/**/*.js"],tasks:["test"]},jshint:{files:"<%= jshint.all %>",tasks:["jshint"]}},benchmark:{all:{src:["benchmarks/*.js"]}},exec:{"meteor-init":{command:["type meteor >/dev/null 2>&1 || { curl https://install.meteor.com/ | sh; }","mv package.js package.dojo && cp meteor/package.js ."].join(";")},"meteor-cleanup":{command:'rm -rf ".build.*" versions.json; mv package.dojo package.js'},"meteor-test":{command:"spacejam --mongo-url mongodb:// test-packages ./"},"meteor-publish":{command:"meteor publish"}}});a.loadTasks("tasks");require("load-grunt-tasks")(a);a.registerTask("default",["lint","test:node"]);a.registerTask("lint",["jshint","jscs"]);a.registerTask("test",["test:node"]);a.registerTask("test:node",["transpile","qtest"]);a.registerTask("test:server",["transpile","update-index","karma:server"]);a.registerTask("test:browser",["transpile","update-index","karma:chrome","karma:firefox"]);a.registerTask("test:sauce-browser",["transpile","update-index","env:sauceLabs","karma:sauce"]);a.registerTask("test:meteor",["exec:meteor-init","exec:meteor-test","exec:meteor-cleanup"]);a.registerTask("build:travis",["default"]);a.registerTask("meteor-publish",["exec:meteor-init","exec:meteor-publish","exec:meteor-cleanup"]);a.registerTask("release",["default","update-index","component","uglify:main"])};